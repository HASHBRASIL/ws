<?php

abstract class App_Controller_Action extends App_Controller_Action_Abstract
{
    public function init()
    {
        // @todo problem for get messages with call Zend_Controller_Action::_forward()


//        $this->view->messages = $this->_helper->_flashMessenger->getMessages();
//        $this->view->messages['error'] = $this->_helper->_flashMessenger->getMessages('error');

        parent::init();
    }

    public function postDispatch()
    {
        $this->view->messages = array_merge(
            $this->_helper->flashMessenger->getMessages(),
            $this->_helper->flashMessenger->getCurrentMessages()
        );
        $this->_helper->flashMessenger->clearCurrentMessages();

        parent::postDispatch(); // TODO: Change the autogenerated stub
    }

}