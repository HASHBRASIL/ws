<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="processoOrdemServico" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="216"/>
	<parameter name="id_processo" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\wamp\\www\\protocolo_financeiro\\data\\jxml\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="parameter1" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT tp.*, ts.sta_descricao, DATE_FORMAT(NOW(),'%d/%m/%Y %H:%i:%S') AS now_date
FROM tb_processo tp
INNER JOIN tb_status ts ON tp.sta_id = ts.sta_id
WHERE tp.pro_id = $P{id_processo} LIMIT 1;]]>
	</queryString>
	<field name="pro_id" class="java.lang.Integer"/>
	<field name="pro_codigo" class="java.lang.Integer"/>
	<field name="pro_id_pedido" class="java.lang.Integer"/>
	<field name="pro_cliente" class="java.lang.String"/>
	<field name="pro_contato" class="java.lang.String"/>
	<field name="pro_desc_produto" class="java.lang.String"/>
	<field name="pro_quantidade" class="java.lang.String"/>
	<field name="pro_vlr_unt" class="java.math.BigDecimal"/>
	<field name="pro_vlr_pedido" class="java.math.BigDecimal"/>
	<field name="pro_prazo_entrega" class="java.lang.String"/>
	<field name="sta_id" class="java.lang.Integer"/>
	<field name="pro_data_inc" class="java.sql.Timestamp"/>
	<field name="empresas_id" class="java.lang.Integer"/>
	<field name="pro_data_entrega" class="java.sql.Timestamp"/>
	<field name="pro_lote_numero" class="java.lang.Integer"/>
	<field name="enderecos_id" class="java.lang.Long"/>
	<field name="empresas_grupo_id" class="java.lang.Integer"/>
	<field name="pes_id" class="java.lang.Integer"/>
	<field name="sta_descricao" class="java.lang.String"/>
	<field name="now_date" class="java.lang.String"/>
	<variable name="valor_total" class="java.lang.Double" calculation="Sum"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="157" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="90" height="48"/>
				<imageExpression class="java.lang.String"><![CDATA["../public/images/logo4-01.jpg"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="90" y="0" width="154" height="20"/>
				<textElement>
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{nomeEmpresa}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="90" y="20" width="337" height="20"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{enderecoEmpresa}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="90" y="36" width="337" height="12"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{emailEmpresa}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="464" y="0" width="85" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{telEmpresa}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="48" width="549" height="1"/>
			</line>
			<staticText>
				<reportElement x="0" y="51" width="73" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Cliente:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="91" width="73" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[CPF/CNPJ:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="71" width="73" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Endereço:]]></text>
			</staticText>
			<textField>
				<reportElement x="73" y="51" width="276" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{nomeCliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="71" width="276" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{enderecoCliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="91" width="276" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{cpf/cnpjCliente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="349" y="71" width="53" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Bairro:]]></text>
			</staticText>
			<staticText>
				<reportElement x="349" y="91" width="53" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Cidade:]]></text>
			</staticText>
			<textField>
				<reportElement x="402" y="71" width="133" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{bairroCliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="402" y="91" width="133" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{cidadeCliente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="349" y="111" width="53" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[UF:]]></text>
			</staticText>
			<textField>
				<reportElement x="402" y="111" width="133" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{estadoCliente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="111" width="73" height="20"/>
				<textElement>
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[CEP:]]></text>
			</staticText>
			<textField>
				<reportElement x="73" y="111" width="133" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$P{cepCliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="149" y="133" width="204" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="20" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[ORDEM DE SERVIÇO]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="130" width="549" height="1"/>
			</line>
			<textField>
				<reportElement x="354" y="133" width="100" height="20"/>
				<textElement>
					<font size="20" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{pro_codigo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="402" y="51" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{now_date}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="156" width="549" height="1"/>
			</line>
		</band>
	</title>
	<pageHeader>
		<band height="127">
			<staticText>
				<reportElement x="1" y="6" width="72" height="20"/>
				<textElement markup="none">
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Status:]]></text>
			</staticText>
			<staticText>
				<reportElement x="1" y="28" width="72" height="20"/>
				<textElement markup="none">
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Quantidade:]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Transparent" x="329" y="28" width="93" height="20"/>
				<textElement markup="none">
					<font size="11" isBold="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Data de entrega:]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Transparent" x="3" y="51" width="88" height="20"/>
				<textElement markup="none">
					<font size="11" isBold="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Obs. de entrega:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="83" width="73" height="20"/>
				<textElement markup="none">
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[Descrição:]]></text>
			</staticText>
			<textField>
				<reportElement x="73" y="6" width="476" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sta_descricao}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="28" width="123" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pro_quantidade}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="83" width="476" height="42"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pro_desc_produto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="90" y="51" width="459" height="30"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pro_prazo_entrega}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="422" y="28" width="127" height="20"/>
				<textElement/>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{pro_data_entrega}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="44" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{displayServico}]]></printWhenExpression>
			<subreport>
				<reportElement x="0" y="0" width="555" height="44"/>
				<subreportParameter name="id_processo">
					<subreportParameterExpression><![CDATA[$P{id_processo}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR}+"processoOrdemServico_servico.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="47" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{displayMaterialProprio}]]></printWhenExpression>
			<subreport>
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="0" y="1" width="555" height="46"/>
				<subreportParameter name="id_processo">
					<subreportParameterExpression><![CDATA[$P{id_processo}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR}+"processoOrdemServico_materialCliente.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="47" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{displayMaterialCliente}]]></printWhenExpression>
			<subreport>
				<reportElement x="0" y="1" width="555" height="46"/>
				<subreportParameter name="id_processo">
					<subreportParameterExpression><![CDATA[$P{id_processo}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR}+"processoOrdemServico_materialProprio.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band height="50"/>
	</columnFooter>
</jasperReport>
